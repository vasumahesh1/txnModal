!function(a){a.txnModal=function(b,c){var d={animateIn:"zoomIn",animateOut:"zoomOut",animateDuration:.3,modalTargetContainer:null,modalAutoCenter:!1,modalWrapperClass:"txn-modal-wrapper",modalCloseHandlers:[],modalCss:{},overlayWrapperClass:"txn-overlay",overlayEnabled:!0,targetScrollEnabled:!1,onOpen:function(){},onClose:function(){}},e="",f='<div class="',g='"></div>',h="txn-inner-modal",i="txn-modal-close",j="";j+="<button class='"+i+"'",j+="style='",j+="position:fixed;",j+="border:solid 1px #FA951F;",j+="border-radius:3px;",j+="color: #fff;",j+="background: #FA951F;",j+="top:15px;",j+="padding-bottom:4px;",j+="height:25px;",j+="width:28px;",j+="cursor: pointer;",j+="right:15px;",j+="'>",j+="x",j+="</button>";var k=!1,l=this;l.finalOptions={};var m=a(b);l.init=function(){k=!1,"none"==m.css("display")&&(k=!0,m.css("display",m.attr("data-display"))),l.finalOptions=a.extend({},d,c),m.addClass(h),e=f+l.finalOptions.modalWrapperClass+g,m.wrap(e);var b=n();for(var p in b)m.parent().css(p,b[p]);var q=o();for(var r in q)m.css(r,q[r]);if(k===!1&&m.parent().css("position","fixed"),0!==l.finalOptions.modalCss.length){var s=!1,t=!1,u=l.finalOptions.modalCss;for(var v in u)("top"==v||"bottom"==v)&&(s=!0),("left"==v||"right"==v)&&(t=!0),m.parent().css(v,u[v]);if(l.finalOptions.modalAutoCenter===!0){if(s===!1){m.parent().css("top","50%");var w=m.parent().outerHeight(),x=-1*(w/2)+"px";m.parent().css("margin-top",x)}if(t===!1){m.parent().css("left","50%");var y=m.parent().outerWidth(),z=-1*(y/2)+"px";m.parent().css("margin-left",z)}}}if(0!==l.finalOptions.modalCloseHandlers.length)for(var A in l.finalOptions.modalCloseHandlers)a(l.finalOptions.modalCloseHandlers[A]).click(function(){l.closeModal()});else m.parent().append(j),m.parent().find("."+i).click(function(){l.closeModal()})},l.showModal=function(){l.finalOptions.targetScrollEnabled===!1&&(k?m.parent().parent().css("overflow","hidden"):a("body").css("overflow","hidden"));var b=q(),c=p();k?(m.parent().parent().prepend(b),a("body").find("."+l.finalOptions.overlayWrapperClass).click(function(){l.closeModal()})):(a("body").prepend(b),m.parent().parent().find("."+l.finalOptions.overlayWrapperClass).click(function(){l.closeModal()}));for(var d in c)m.parent().parent().find("."+l.finalOptions.overlayWrapperClass).css(d,c[d]);l.finalOptions.overlayEnabled===!1&&m.parent().parent().find("."+l.finalOptions.overlayWrapperClass).css("background","none"),k&&m.parent().parent().find("."+l.finalOptions.overlayWrapperClass).css("position","absolute"),m.parent().parent().find("."+l.finalOptions.overlayWrapperClass).addClass("animated fadeIn"),t(),m.parent().addClass("animated "+l.finalOptions.animateIn);var e=r();for(var f in e)m.parent().css(f,e[f]);m.parent().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){var a=r();for(var b in a)m.parent().css(b,a[b]);l.finalOptions.onOpen()}),u("Opening Modal","log")},l.closeModal=function(){l.finalOptions.targetScrollEnabled===!1&&(k?m.parent().parent().css("overflow","auto"):a("body").css("overflow","auto")),m.parent().parent().find("."+l.finalOptions.overlayWrapperClass).removeClass("fadeIn"),m.parent().parent().find("."+l.finalOptions.overlayWrapperClass).addClass("animated fadeOut"),m.parent().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(a){m.parent().parent().find("."+l.finalOptions.overlayWrapperClass).remove(),m.parent().off(a)}),t(),m.parent().addClass("animated "+l.finalOptions.animateOut),m.parent().one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){var a=s();for(var b in a)m.parent().css(b,a[b]);l.finalOptions.onClose()}),u("Closing Modal","log")};var n=function(){var a={};return a.position="absolute",a.overflow="auto",a.display="none",a.padding="0px 0px",a.background="#fff",a.border="1px solid #b7c7cf",a["box-sizing"]="border-box",a["box-shadow"]="0px 0px 10px rgba(0,0,0,0.2)",a.top="0px",a.left="0px",a.height="100%",a.width="100%",a["animation-duration"]=l.finalOptions.animateDuration+"s",a["-moz-animation-duration"]=l.finalOptions.animateDuration+"s",a["-webkit-animation-duration"]=l.finalOptions.animateDuration+"s",a["-ms-animation-duration"]=l.finalOptions.animateDuration+"s",a["z-index"]="9999",a},o=function(){var a={};return a.overflow="auto",a.height="100%",a},p=function(){var a={};return a.position="fixed",a.background="rgba(0,0,0,0.3)",a.top="0px",a.left="0px",a.height="100%",a.width="100%",a["animation-duration"]=l.finalOptions.animateDuration+"s",a["-moz-animation-duration"]=l.finalOptions.animateDuration+"s",a["-webkit-animation-duration"]=l.finalOptions.animateDuration+"s",a["-ms-animation-duration"]=l.finalOptions.animateDuration+"s",a["z-index"]="9998",a},q=function(){var a="";return a+='<div class="'+l.finalOptions.overlayWrapperClass+'" ></div>'},r=function(){var a={};return a.display="inline-block",a},s=function(){var a={};return a.display="none",a},t=function(){m.parent().removeClass(l.finalOptions.animateIn),m.parent().removeClass(l.finalOptions.animateOut)},u=function(a,b){};l.init()},a.fn.txnModal=function(b){return this.each(function(){if(b&&void 0!==b.modalTargetContainer){a(this).wrap("<p></p>"),a(this).attr("data-display",a(this).css("display")),a(this).attr("txn-modal-options",JSON.stringify(b)),a(this).css("display","none");var c=a(this).parent().html();a(this).remove();var d=b.modalTargetContainer;return void a(d).prepend(c)}if(void 0!==a(this).data("txnModalOptions")&&(b=a(this).data("txnModalOptions")),void 0===a(this).data("txnModal")){var e=new a.txnModal(this,b);a(this).data("txnModal",e)}})},a.fn.showModal=function(b){if(this.length>1);else if(0===this.length)return;if(void 0===a(this).data("txnModal")){var c=a.parseJSON(a(this).attr("txn-modal-options")),d=new a.txnModal(this,c);a(this).data("txnModal",d)}a(this).data("txnModal").showModal()}}(jQuery);